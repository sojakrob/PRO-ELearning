\documentclass[11pt,oneside,a4paper]{book}
%\documentclass[czech, 11pt, twoside, a4paper]{book}

\usepackage[czech, english]{babel}
\usepackage[T1]{fontenc}
%\usepackage[utf8]{inputenc}
\usepackage[cp1250]{inputenc}
%\usepackage{fontspec} 

%\usepackage[T1]{czech} %%%%[IL2] [T1] [OT1]

\usepackage{graphicx}
\usepackage{indentfirst}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{pifont}
\usepackage{array}
\usepackage{footmisc}
\usepackage{url}

\usepackage{k336_thesis_macros}

\usepackage{sojakrob_macros}

%\renewcommand{\includegraphics}[2][]{}

\lstset
{
language=CSharp,
classoffset=2,
morekeywords={ActionResult, UserTypes, AuthorizeUserType, PermissionException, UserPermissions, Form, ArgumentException, ArgumentNullException, UserPermissions, StudentPermissions, LectorPermissions, AdministratorPermissions, IUnityContainerAccessor, IUnityContainer}
}

\newcommand\TypeOfWork{Bakaláøská práce}  \typeout{Bakalarska prace}
\newcommand\StudProgram{Softwarové technologie a management, Bakaláøský}
\newcommand\StudBranch{Softwarové inženýrství}

\newcommand\WorkTitle{E-learningový systém se zameøením na testování}
\newcommand\FirstandFamilyName{Robert Soják}
\newcommand\Supervisor{Ing. Ondøej Macek}

\usepackage[
pdftitle={\WorkTitle},
pdfauthor={\FirstandFamilyName},
bookmarks=true,
colorlinks=true,
breaklinks=true,
urlcolor=red,
citecolor=blue,
linkcolor=blue,
unicode=true,
]{hyperref}

\usepackage[square, numbers]{natbib}
%\usepackage{url}
%\DeclareUrlCommand\url{\def\UrlLeft{<}\def\UrlRight{>}\urlstyle{tt}}  %rm/sf/tt
%\renewcommand{\emph}[1]{\textsl{#1}}    % melo by byt kurziva nebo sklonene,
\let\oldUrl\url
\renewcommand\url[1]{<\texttt{\oldUrl{#1}}>}


\begin{document}
\selectlanguage{czech}

\iflanguage{czech}{
	 \typeout{************************************************}
	 \typeout{Zvoleny jazyk: cestina}
	 \typeout{Typ prace: \TypeOfWork}
	 \typeout{Studijni program: \StudProgram}
	 \typeout{Obor: \StudBranch}
	 \typeout{Jmeno: \FirstandFamilyName}
	 \typeout{Nazev prace: \WorkTitle}
	 \typeout{Vedouci prace: \Supervisor}
	 \typeout{***************************************************}
	 \newcommand\Department{Katedra poèítaèù}
	 \newcommand\Faculty{Fakulta elektrotechnická}
	 \newcommand\University{Èeské vysoké uèení technické v Praze}
	 \newcommand\labelSupervisor{Vedoucí práce}
	 \newcommand\labelStudProgram{Studijní program}
	 \newcommand\labelStudBranch{Obor}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%    Titulni stranka / Title page 

\coverpagestarts

%%%%%%%%%%%%%%%%%%%%%%%%%%%    Podekovani / Acknowledgements 

\acknowledgements
\noindent


%%%%%%%%%%%%%%%%%%%%%%%%%%%   Prohlaseni / Declaration 

\declaration{V~Praze dne }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%    Abstract 
 
\abstractpage



\vglue60mm
\noindent{\Huge \textbf{Abstrakt}}
\vskip 2.75\baselineskip

\noindent


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Obsah / Table of Contents 

\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Seznam obrazku / List of Figures 

\listoffigures

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Seznam tabulek / List of Tables

\listoftables

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Seznam zdrojovych kodu / List of Source Codes

\lstlistoflistings

%**************************************************************

\mainbodystarts
% horizontalnÃ­ mezera mezi dvema odstavci
%\parskip=5pt
%11.12.2008 parskip + tolerance
\normalfont
\parskip=0.2\baselineskip plus 0.2\baselineskip minus 0.1\baselineskip


%*****************************************************************************
\chapter{Úvod}

Tento projekt e-learningového\footnote{Vzdìlávání za pomoci moderních elektronických informaèních a komunikaèních technologií} systému vznikl na základì poptávky neziskové organizace. Má sloužit jako nástroj pro nauèné testování úèastníkù (dále \textit{studentù}) kurzù, které organizace poøádá.

V souèasné dobì organizace využívá pro testování Google Formuláøù\footnote{Názvem Google Formuláø zde znaèím formuláø tabulkového procesoru z rodiny Google Dokumentù} \cite{GoogleDocuments} s testovými otázkami, kde student vybírá právì jednu odpovìï z nìkolika možných. Skrze automaticky generovanou tabulku odpovìdí jednotlivých studentù je sice koordinátor kurzu (dále \textit{lektor}) schopen vyhodnotit správnost odpovìdí, ale to je vše, co mu aplikace Formuláøù umožòuje. Výsledky je nucen ruènì vyhodnotit a danému studentovi nastínit správné odpovìdi nebo alespoò odkázat na související kapitolu v uèebním materiálu (dále \textit{skripta}).

Pro kategorizaci studentù a pøíslušných lektorù je v organizaci využito Google Skupin.

\section{Cíl projektu}

Cílem projektu je vyvinout portál pro podporu výuky. Hlavní funkcionalitou by mìla být tvorba a vyplòování nauèných testù urèených skupinám studentù. Systém by mìl také podporovat tvorbu a správu elektronických skript.

Jakožto bakaláøská práce by mìl projekt také ukázat mou schopnost samostatnì øešit daný problém. Chtìl bych pøedvést nabyté znalostí a schopnost využít moderní technologie pøi jeho realizaci.

\section{Využití}

Výsledný systém by mìl být nasazen do zmínìné poptávající neziskové organizace.

Má ale i širší využití, protože dává za vznik univerzálnímu e-learningovému portálu. Systém nauèných testù (rozebrán ve \ref{sec:Popis problému} a \ref{sec:Typy formuláøù}) je zde svým zpùsobem originální a odlišuje portál od ostatních aplikací tohoto typu.

Já osobnì bych chtìl portál využít jako nástroj pro podporu výuky studentù informatiky na gymnáziu, kde pùsobím jako uèitel. Oèekávám od nìj efektivní pomoc pøi tvorbì a známkování testù a sdílení studijních materiálù.

Mùže být pøínosem i pro další pøedmìty jako jednoduše ovladatelný nástroj pro tvorbu tištìných testù èi dotazníkù, které jsou povìtšinou tìžkopádnì tvoøeny v textovém procesoru. Nastavil by se tím i jednotný vzhled, který má každý kantor odlišný.

\section{Obsah práce}

V této práci se dále vìnuji analýze výsledného systému, kde ukazuji svùj postup pøi shromažïování požadavkù, rešerši podobných systémù a promýšlení celkové funkcionality. Poté zde pøedstavuji návrh architektury systému a potøebných entit. Na to navazuji popisem implementace, kde zmiòuji nìkteré postupy a konkrétní øešení nìkterých èástí aplikace. Vìnuji se také testování a nasazení hotového portálu. Nakonec uvádím možná rozšíøení a celkové zhodnocení.
 

%*****************************************************************************
\chapter{Analýza}

Pøi analýze zde nejdøíve shromažïuji a popisuji požadavky na výsledný systém. Poté se vìnuji rešerši již existujících systémù, abych získal pøehled, co v souèasné dobì nabízejí a jak vypadají. To napomáhá k jasnìjšímu pohledu na možná øešení pro splnìní daných požadavkù. Dále rozebírám konkrétní øešení mého systému.

\section{Popis problému}
\label{sec:Popis problému}

Jak již vyplývá z úvodu, organizace potøebuje aplikaci pro tvorbu, vyplnìní, okamžité vyhodnocení a okomentování testù. Ty zde znaèím jako \textit{nauèné testy}.

Lektor kurzu vytvoøí šablonu testu s otázkami o nìkolika možných odpovìdích. Ke každé otázce by mìl mít možnost napsat slovní komentáø, ve kterém mùže nastínit, proè je daná odpovìï správnì nebo špatnì a pøípadnì odkázat na studijní materiál, který danou problematiku vysvìtluje. Každá otázka k sobì mùže vázat otázky alternativní, které test inovují pøi vyplòování stejného testu vícekrát.

Student by mìl mít vždy pøehled o dostupných testech, které jsou urèené pro kurzy, do nichž je zaøazen. Po konkrétním výbìru se pro nìj test vygeneruje z dostupných otázek a jejich alternativ. Vždy, když testovaný oznaèí svou odpovìï, zobrazení se vysvìtlení správné odpovìdi a dojde k jejímu viditelnému zvýraznìní. Po vyplnìní celého testu èi pouze jeho èásti má student možnost odeslat svùj výsledek nadøízenému lektorovi. Ten má ve výsledku pøehled, jak na tom jeho svìøenci se znalostmi jsou.

\section{Požadavky na systém}

Požadavky na výsledný e-learningový systém sestávají ze základních požadavkù zadávající organizace (\ref{sec:Popis problému}) a rozšiøujících požadavkù. Rozšiøující požadavky byly sestaveny na základì obecných požadavkù na systém takového typu a inspirací zmínìných v rešerši v následující sekci~\ref{sec:Rešerše existujících øešení}. Díky tìmto rozšiøujícím požadavkùm by mìl vzniknout zmínìný komplexnìjší univerzální e-learningový systém.

\subsection{Požadavky zadavatele}

\subsubsection{Funkèní požadavky}

\begin{enumerate}[FP1.] \setlength\itemindent{15pt}
\item Tvorba testù s výbìrovými otázkami s právì jednou správnou odpovìdí
\item Zobrazení výsledku testu a~možnost jeho odeslání lektorovi kurzu
\item Každá otázka mùže sestávat z nìkolika variací
\label{FP:Každá otázka mùže sestávat z nìkolika variací}
\item Náhodný výbìr variace otázky pøi generování testu
\item Zobrazení komentáøe k~právì zodpovìzené otázce (cca odstavcový)
\label{FP:Zobrazení komentáøe k právì zodpovìzené otázce (cca odstavcový)}
\item Neomezený poèet možností daný test opakovat dokud nebude zodpovìzen správnì
\item Možnost kategorizace studentù, lektorù a pøíslušných testù do skupin
\newcounter{FPEnum} \setcounter{FPEnum}{\theenumi}
\end{enumerate}

\subsubsection{Nefunkèní požadavky}

\begin{enumerate}[NP1.] \setlength\itemindent{15pt}
\item Jednoduché ovládání, pochopitelné pro bìžného uživatele i bez zaškolení
\label{NP:Jednoduché ovládání, pochopitelné pro bìžného uživatele i bez zaškolení}
\newcounter{NPEnum} \setcounter{NPEnum}{\theenumi}
\end{enumerate}

\subsection{Rozšiøující požadavky}

\subsubsection{Funkèní požadavky}

\begin{enumerate}[FP1.] \setlength\itemindent{15pt}
\setcounter{enumi}{\theFPEnum}
\item Rozšíøení o více typù testù (obecnì \textit{formuláøù})
\item Možnost výbìru z více typù otázek
\item Lektor mùže ohodnotit pøijatý formuláø
\item Podpora exportu výsledkù formuláøù do Google Formuláøù
\item Podpora tisku prázdných i vyplnìných formuláøù
\item Možnost tvorby elektronických skript
\item Podpora importu studentù z Google Skupin \cite{GoogleGroups}
\end{enumerate}

\subsubsection{Nefunkèní požadavky}

\begin{enumerate}[NP1.] \setlength\itemindent{15pt}
\setcounter{enumi}{\theNPEnum}
\item Výsledný systém je webová aplikace postavená na ASP.NET MVC
\label{NP:Výsledný systém je webová aplikace postavená na ASP.NET MVC}
\end{enumerate}


\section{Rešerše existujících øešení}
\label{sec:Rešerše existujících øešení}

Rešerši existujících øešení e-learningových a tvorbou formuláøù zabývajících se aplikací jsem neprovádìl za úèelem nalezení kandidáta na rozšíøení o požadovanou funkcionalitu. Rešerši zde uvádím s cílem prozkoumat dostupná øešení, zjistit co poskytují za služby a tøeba je využít pro inspiraci. Projekt byl již od zaèátku zamýšlen pro vznik takøíkajíc na zelené louce. Jedním z dùvodù je funkcionalita speciálního nauèného testu (\ref{sec:Popis problému}, \ref{sec:Typy formuláøù}). Dalším dùvodem je požadavek na jednoduché ovládaní a zkušenost uživatelù ze zadávající spoleènosti s prostøedím Google Formuláøù. Hlavním dùvodem je ale myslím moje snaha zapojit do vývoje znalosti softwarového inženýrství a touha vytvoøit si systém vlastní. Nechtìl jsem jen vybrat z pøedpøipraveného øešení s hotovou architekturou a pøibalit k ní plugin pro práci s nauènými testy.

\subsection{Google Formuláøe}

Jako Google Formuláø v této bakaláøské práci znaèím formuláø tabulkového procesoru z balíku Google Dokumenty\cite{GoogleDocuments} (na Obr. \ref{fig:Hlavní stránka Google Dokumentù}). Pomocí poskytovaného nástroje je uživateli umožnìno vytvoøit vlastní formuláø z nìkolika možných formuláøových prvkù. Hotový formuláø lze  poté zveøejnit (zcela nebo jen pro urèitý okruh uživatelù) a nechat jej vyplnit. Odpovìdi jsou automaticky zapisovány do tabulky, kde jsou spolu s dalšími informacemi (napø. datum a èas vyplnìní) pøipravené pro další analýzu.

Základní myšlenka tohoto projektu vychází právì z Google Formuláøù (lidé od zadavele jsou na nì zvyklí), proto zde jejich rozebrání vìnuji více prostoru.

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.9\textwidth]{figures/GoogleDocs}
\caption{Hlavní stránka Google Dokumentù}
\label{fig:Hlavní stránka Google Dokumentù}
\end{center}
\end{figure}

\begin{figure}[h]
\begin{center}
\includegraphics[width=1\textwidth]{figures/GoogleFormsSampleForm}
\caption{Ukázka Google Formuláøe: tvorba vlevo, výsledek vpravo}
\label{fig:Ukázka Google Formuláøe}
\end{center}
\end{figure}

\subsubsection{Tvorba formuláøe}

Tvorba formuláøe (viditelná na obr. \ref{fig:Ukázka Google Formuláøe}) probíhá v, øekl bych, náhledovém režimu -- uživatel vidí formuláø témìø stejnì jako koncový uživatel, jen nemùže vyplòovat odpovìdi a otázky mùže jednotlivì upravovat. Úpravy se provádìjí dynamicky pomocí Javascriptu a vše je automaticky ukládáno.

Otázka se skládá z nadpisu, textu nápovìdy, volby typu otázky a zda je otázku povinné vyplnit. Nepovinný údaj je text nápovìdy a dokonce i nadpis otázky, takže pøi nevyplnìní vidí koncový uživatel jen prázdné pole èi výèet odpovìdí (v závislosti na typu otázky).

\subsubsection{Typy otázek}

Následuje výèet otázek, které lze na Google Formuláø umístit, a použitelnost daného typu otázky ve vyvíjeném systému.

%TODO dopsat pouzitelnost:

\begin{description}
\item[Text] Krátký text, tázaný uživatel zapisuje odpovìï do krátkého pole input\footnote{Formuláøový element HTML}, které už dále nemìní svou velikost.
\item[Text odstavce] Pro tázaného zobrazen jako textarea, která se pøizpùsobuje délce zapisovaného textu.
\item[Více možností] Jednoduchý výèet pomocí radio buttonù pro výbìr jedné odpovìdi.
\item[Zaškrtávací políèka] Výèet pomocí checkboxù, možnost vybrat žádnou èi více odpovìdí.
\item[Vyberte ze seznamu] Zobrazí uživateli combo box s výètem možností. Vlastnì stejná funkènost jako Více možností, ale zabírá ménì místa, jednotlivé odpovìdi nejsou stále vidìt.
\item[Mìøítko] Umožòuje zvolení hodnoty ze zvoleného rozsahu, napøíklad 1--5. Tázanému je výbìr umožnìn pomocí radio buttonù.
\item[Møížka] V podobì tabulky dává možnost zvolit pro každý øádek jednu hodnotu umístìnou ve sloupcích. Je zde ale omezení, sloupcù mùže být max. 5 a pro jeden øádek nelze umožnit zvolení více hodnot najednou.
\end{description}

\subsubsection{Uživatelské rozhraní}

Protože uživatelé zadavatele jsou již zvyklí na rozhraní Google Dokumentù (na obr. \ref{fig:Hlavní stránka Google Dokumentù} a \ref{fig:Ukázka Google Formuláøe}) a toto rozhraní zároveò splòuje NP\ref{NP:Jednoduché ovládání, pochopitelné pro bìžného uživatele i bez zaškolení}, mìlo by být grafické rozhraní e-learningového portálu podobné. Alespoò co se týèe rozložení a umístìní ovládacích prvkù.

\subsection{Moodle}
\label{sec:Moodle}

Moodle \cite{MoodleORG} je asi nejznámìjší a celosvìtovì rozšíøené prostøedí pro elektronickou podporu výuky. Je to soubor mnoha modulù, které lze využít pro sestavení a nasazení vlastního výukového portálu. K dispozici je jako open source pod GNU GPL\footnote{GNU General Public Licence, èesky všeobecná veøejná licence GNU} licencí.

Jeho moduly umí snad vše, co se od takového systému oèekává -- od distribuce studijních materiálù pøes tvorbu a vyhodnocování testù po diskuzní fóra. Jakékoli další moduly lze samozøejmì doprogramovat.

Z pohledu uživatele se mi zdá Moodle hodnì složitý. Každá obrazovka chrlí velké množství rùzných nabídek, dat a možností. Nezkušený uživatel musí být doslova zavalen, nemluvì o vyuèujících, kteøí mají k dispozici podstatnì více akcí a nastavení. Množství z nich je pøístupné jen formou malých ikonek u jednotlivých položek, což nutí orientovat se pomocí tooltipù. Zaèínající uživatel role studenta má ještì možnost po chvíli nalézt co hledá, ale lektor to má mnohem tìžší. Bìžní uživatelé, kteøí mají problém používat akce textového procesoru, musí být v systému bez externí pomoci zcela ztraceni. Tomu se právì snažím v mém systému vyhnout.

\subsubsection{Otázky do testù}

V systému Moodle jsou otázky pojaty trochu jiným zpùsobem, než mùžeme oèekávat u pøímoèarého tvùrce formuláøù (jako je napø. výše popisovaný Google Formuláø). Nejsou totiž vázány na jednotlivé testy, ale existují v tzv. otázkových bankách k urèitému kurzu. Dále se dají øadit do kategorií a také sdílet s dalšími kurzy a vyuèujícími.

Ve vyvíjeném e-learningovém systému se mi ale takový zpùsob nezdá být pøínosem. Myslím si, že pro uživatele by bylo zbyteènì složité øadit otázky do množství skupin a posléze každému formuláøi tyto skupiny otázek nastavovat.

Systém obsahuje velké množství typù otázek, které vlastnì rozšiøují základní bìžnì používanou množinu o specifiètìjší (jako napø. spojování). Výèet pøikládám v pøíloze \ref{fig:Typy otázek v systému Moodle}.

\subsection{Studentova berlièka}

Studentova Berlièka je jeden z projektù studentù ÈVUT FEL. Jedná se o informaèní systém pro podporu výuky na škole. Vývoj zaèal bakaláøskou prací \cite{StudentovaBerlickaI} v roce 2007 a poté byl systém dále rozvíjen a obohacován o další funkcionalitu. Zamìøil jsem se na modul pro generování testù \cite{StudentovaBerlicka_ModulProGenerovaniTestu}.

Jednotlivé otázky jsou zde, podobnì jako v Moodle, øazeny do tematických okruhù. Otázky do testu jsou vybírány z jednoho èi více okruhù. Typy otázek jsou zde dva, slovní odpovìï a výbìrová. 

Zajímavé je zde øešení postupu pøi tvorbì jednotlivých otázek. Otázka se mùže nacházet v jednom z tìchto stavù:
\begin{itemize}
\item Rozpracované
\item Mùj lokál
\item K validaci
\item Ke schválení
\item Schválené
\end{itemize}

Jak je již z výètu stavù zøejmé, proces tvorby je uzpùsoben pro kooperaci více uživatelù, napøíklad cvièících a pøednášejícího. Cvièící pøipravují otázky, které následnì pøednášející schvaluje. 

Aèkoli je tento postup tvorby otázek pro vysokou školu urèitì žádoucí, pro mnou vyvíjený systém by byl nadbyteèný. V doménì uživatelù poèítám s jedním vedoucím skupiny, který testové otázky sám vytváøí. Z tohoto dùvodu také v systému neøeším možné kolize pøi editování více uživateli naráz, což v tomto modulu Studentovi berlièky øešeno je.

%\subsection{Edubase}

\subsection{Závìr}

V této sekci jsem popsal nìkteré systémy, které jsem prostudoval za úèelem zjištìní nabízených služeb a zpùsobu jejich realizace. Hlavní inspirací pro základ e-learningového systému jsou pro mì Google Formuláøe. Obsahují všechny základní typy otázek potøebné pro vytváøení formuláøù a jsou jednoduše ovladatelné. Naproti tomu Moodle mi ukazuje portál, kterému bych se blížit nechtìl. Obsahuje velké množství rùzných funkcí, kterých by v mé cílové skupinì využilo možná procento uživatelù. Navíc je pro nì podle mì dosti složitý na ovládání.

\section{Uživatelské role}

Uživatelské role potøebné v systému jasnì plynou již ze zadání, jsou to tyto tøi role:

\begin{description}
\item[Student] Pøedstavuje úèastníka kurzu z domény zadavatele a obecnì studenta využívajícího e-learningového systému. Z hlediska práv v aplikaci je na nejnižší úrovni, tzn. všechny jeho akce se vztahují pouze k nìmu samotnému. Mezi akce patøí napøíklad vyplòování testù dostupné pro jeho skupinu a prohlížení výsledkù svých testù (více v sekci \ref{sec:Pøípady užití}).
\item[Lektor] Lektorem je koordinátor kurzu z domény zadavatele, vedoucí jedné èi více skupin (neboli \textit{kurzù}). Obecnì se tedy jedná o uèitele studentù, který má na starost tvorbu testù pro jeho skupiny a jejich následné ohodnocení.
\item[Administrátor] Uživatelská role známá asi ze všech systémù. Je to správce celého portálu a supervizor lektorù. Jako takový má práva všech lektorù a k tomu dostupnou funkcionalitu pro administraci aplikace vèetnì pøidávání uživatelù a tvorby skupin.
\end{description}

\section{Pøípady užití}
\label{sec:Pøípady užití}

Na diagramu \ref{fig:Diagram užití} jsou zachyceny základní operace provádìné uživateli v daných rolích zastoupených aktéry pøípadù užití. Slovní popis pøípadù užití je umístìn v pøíloze \ref{appendix:Pøípady užití}.

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.9\textwidth]{figures/UseCaseDiagram}
\caption{Diagram užití}
\label{fig:Diagram užití}
\end{center}
\end{figure}

\section{Formuláøe}

Formuláøe pøedstavují základní nástroj tohoto e-learningového portálu. Slouží jak lektorùm pro otestování znalostí jejich žákù, tak pro studenty samotné jako nástroj pro nauku a zpìtnou vazbu.

Každý formuláø je možné pøiøadit do libovolného množství skupin. Vede-li lektor více skupin, má možnost urèit jako cílové skupiny formuláøe jejich podmnožinu. Studenti potom mají pøístup ke všem formuláøùm z jim pøiøazených skupin.

Mezi další možnosti, které formuláøe obsahují, patøí napøíklad nastavení èasového limitu pro jeho vyplnìní èi zamíchání jednotlivých otázek a odpovìdí. Více je popsáno v sekci \ref{sec:Možnosti nastavení formuláøù}.

Životní cyklus formuláøe (viz. Obr. \ref{fig:Stavový diagram formuláøe}) zaèíná jeho založením lektorem a pøechází do stavu \textit{Neaktivní editovatelný}. V tuto chvíli jsou nastaveny možnosti formuláøe a vytváøeny otázky. Aby byl viditelný pro studenty z pøiøazených skupin, musí být uveden do stavu \textit{Aktivní nevyplnìný}. Pro opìtovné pozastavení formuláøe je možné pøejít zpìt do \textit{Neaktivního} stavu. V pøípadì, že byl již test nìkým vyplnìn, pohybuje se mezi stavy \textit{Aktivní vyplnìný} a \textit{Neaktivní needitovatelný}. V tìchto stavech už není formuláø možné editovat. Nakonec formuláø pøechází do stavu \textit{Archivován}.

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.5\textwidth]{figures/FormStateDiagram}
\caption{Stavový diagram formuláøe}
\label{fig:Stavový diagram formuláøe}
\end{center}
\end{figure}

\subsection{Typy formuláøù}
\label{sec:Typy formuláøù}

Základní množinu formuláøù systému tvoøí tyto tøi typy:

\begin{description}
\item[Nauèný test] Je to netradièní typ testu vycházející z požadavkù zadavatele. Ke každé otázce je možné pøidat vysvìtlení správné odpovìdi (FP\ref{FP:Zobrazení komentáøe k právì zodpovìzené otázce (cca odstavcový)}), které je vyplòujícímu studentovi zobrazeno po oznaèení odpovìdi, kterou považuje za správnou. Test tedy plní dvì funkce, vypovídá o souèasných znalostech studenta a jeho pøipravenosti na možný zkouškový test. Zároveò ho opravuje a smìruje správnou cestou. Test je možné vyplnit vícekrát. Díky alternativním otázkám (FP\ref{FP:Každá otázka mùže sestávat z nìkolika variací}) není pokaždé stejný.
\item[Zkouškový test] Toto je bìžný test pro ostré otestování studentových znalostí, jak ho známe ze všech vzdìlávacích institucí. Mùže mít navíc urèen napøíklad èasový limit pro dokonèení èí možnost více pokusù pro správné vyplnìní.
\item[Dotazník] Plní funkci bìžného dotazníku. Každý ho smí vyplnit pouze jedenkrát.
\end{description}

\subsection{Možnosti nastavení formuláøù}
\label{sec:Možnosti nastavení formuláøù}

Možnosti nastavení chování jednotlivých typù formuláøù shrnuje následující tabulka \ref{tab:Možnosti chování formuláøù}.

\begin{table}[h]
\begin{center}
\begin{tabular}{!{\bvline}l!{\bvline}c|c|c!{\bvline}} \bhline
 & \textbf{Nauèný test} & \textbf{Zkušební test} & \textbf{Dotazník} \\ \bhline
Èas na vyplnìní & \tick & \tick & \cross \\ \hline
Zamíchaní otázek & \tick & \tick & \cross \\ \hline
Zamíchaní nabízených odpovìdí & \tick & \tick & \cross \\ \hline
Vysvìtlení správné odpovìdi & \tick & \cross & \cross \\ \hline
Možnost vyplnit vícekrát & \tick & \tick & \cross \\ \bhline
\end{tabular}
\end{center}
\caption{Možnosti chování formuláøù}
\label{tab:Možnosti chování formuláøù}
\end{table}

\section{Otázky}

Otázky tvoøí náplò formuláøù. Každá z otázek k sobì mùže vázat další, alternativní otázky. Když je pro studenta generován test, právì jedna alternativní otázka je vybrána. Jestliže tedy test obsahuje otázky s více alternativami, budou jednotlivé vygenerované testy rozdílné.

Jednotlivé otázky formuláøe mohou být lektorem libovolnì tvoøeny, duplikovány, upravovány a mazány. Ovšem jen do okamžiku, kdy je formuláø pøeveden do stavu \textit{aktivní} a vyplnìn nìkterým ze studentù. V tom pøípadì už otázky nesmìjí být upravovány a mazány, aby mìli všichni stejné podmínky a nemìnily se jim otázky \uv{pod rukama}.

Možnost duplikace otázek je zavedena hlavnì kvùli výbìrovým otázkám \ref{item:Výbìrová otázka}. Duplikací otázky tak odpadá nutnost opakovaného vkládání totožných odpovìdí.

\subsection{Typy otázek}

Množina typù jednotlivých otázek je sestavena z potøeby zadavatele, èímž je otázka výbìrová, a základních potøeb univerzálního e-learningového systému. Množina tedy obsahuje 5 typù otázek, z èehož 3 typy jsou základní. Možné další  otázky vhodné pro rozšíøení systému jsou nastínìny v sekci \ref{sec:Možná rozšíøení sub:Otázky}.

\begin{description}

\item[Výbìrová otázka] \label{item:Výbìrová otázka} \hfill
\begin{description}
\item[Jedna správná odpovìï] Právì jedna z množiny nabízených odpovìdích je správná.
\item[Více správných odpovìdí] Žádná nebo více z nabízených odpovìdí je správná.
\end{description}

\item[Textová otázka] \hfill
\begin{description}
\item[Krátká] Od vyplòujícího studenta se oèekává jednoslovná èi jednovìtná odpovìï.
\item[Dlouhá] Zde se oèekává vyèerpávající odpovìï, tzn. jedna a více vìt.
\end{description}
\item[Rozsahová otázka] Odpovìï je tøeba vybrat z definovaného rozsahu, napø. známka 1--5, hodnocení 0--10. Tento typ otázky je hlavnì pro potøebu dotazníku.
\end{description}

\section{Skripta}

Skripta hrají v systému roli elektronických uèebních materiálù. Kategorizována jsou stejnì jako formuláøe, tzn. do skupin existujících v systému, takže studenti mají k dispozici materiály výhradnì k jim pøiøazeným kurzùm. Skripta by mìla být vytváøena pøevážnì lektory pro studenty. Možnost jejich tvorby ale není studentùm odepøena, mohou je využít napøíklad pro tvorbu osobních zápiskù z hodin. Mají také možnost vytvoøená skripta zveøejnit pro ostatní èleny skupiny.

Skripta je možné formátovat do strukturované podoby, tzn. možnost tvorby nadpisù, odstavcù, odkazù, tabulek, možnost volby stylu písma a další. K tomuto úèelu by mìl být k dispozici editor používající Wiki znaèkování\footnote{Syntaxe a klíèová slova využívaná k formátování textu na stránce}, která je snad pro vìtšinu uživatelù pochopitelná a lehce nauèitelná. S pomocí tlaèítek pro automatické formátování vybraného textu nemusí mít ani uživatel potøebu proèítat dokumentaci k používání daného Wiki znaèkování.

\chapter{Návrh}

\section{Architektura systému}

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/Architecture}
\caption{Architektura systému}
\label{fig:Architektura systému}
\end{center}
\end{figure}

Architektura systému (Obr. \ref{fig:Architektura systému}) je spojením architektury tøívrstvé a MVC\footnote{Model View Controller} (Obr. \ref{fig:Architektura MVC}). Použití MVC jasnì vyplývá již z NP\ref{NP:Výsledný systém je webová aplikace postavená na ASP.NET MVC}. Ovšem architektura MVC sama o sobì podle mì o celkové struktuøe systému nevypovídá mnoho. Pod pojem Model totiž skrývá nìkolik rùznorodých komponent systému, konkrétnì napøíklad business logiku (jejíž èást ale bývá také v Controlleru) a datové uložištì. A protože Model, View i Controller bývají v praxi velmi provázané, je nemožné jednu z komponent vymìnit za jinou s rozdílnou implementací bez zásahu do ostatních.

Já tedy využívám MVC jako \uv{prezentaèní} vrstvu z pohledu tøívrstvé architektury. Mohu totiž tuto vrstvu kdykoli vymìnit napøíklad za Windows Forms, èímž vznikne desktopová aplikace využívající totožnou business a datovou vrstvu.

Business vrstva je již standartní vrstva tøívrstvé architektury, která obstarává veškerou aplikaèní logiku a zprostøedkovává prezentaèní vrstvì zpracovaná data.

Datová vrstva obsahuje celý datový model systému a také komponenty potøebné pro CRUD\footnote{Create, Read, Update \& Delete - ètyøi základní operace datového uložištì} operace s tìmito daty.

\section{Datová vrstva}

%TODO Meta model presunout do analyzy?
\begin{figure}[h]
\begin{center}
\includegraphics[width=0.9\textwidth]{figures/MetaModel}
\caption{Meta model}
\label{fig:Meta model}
\end{center}
\end{figure}

\begin{figure}[h]
\begin{center}
\includegraphics[width=1\textwidth]{figures/DesignModel}
\caption{Návrhový model datové vrstvy}
\label{fig:Design model datové vrstvy}
\end{center}
\end{figure}

\section{Business vrstva}

\section{Prezentaèní vrstva}

\section{Technologie a frameworky}

\subsection{\CSharp ASP.NET MVC 4.0}

\subsection{Entity Framework}
\label{sec:Entity Framework}

\subsection{Javascript, JQuery}

\subsection{Wiki modul}



%*****************************************************************************
\chapter{Implementace}

\section{Datová vrstva}

Pro implementaci datové vrstvy aplikace jsem použil Entity Framework (viz. \ref{sec:Entity Framework}). Zvolil jsem pøístup Model First Development. Podle mì je to výborný kompromis mezi Code First a Database First øízeném vývoji. Mám díky nìmu plnou kontrolu nad strukturou vytváøené databáze a zároveò nad generovanými tøídami.

Všechny možné nedostatky skriptu databáze lze vyøešit pøidáním databázového projektu a importem vygenerovaného skriptu do nìj. V takovém projektu lze mít další skripty napøíklad pro spuštìní pøed a po vyvolání hlavního skriptu. Post-deployment skriptu využívám také pro automatické vytvoøení základních záznamù (èíselníky, administrátor), èímž mì každé nasazení databáze stojí pouhé dvì kliknutí myší.

Úpravy generovaného kódu tøíd lze jednoduše provést pomocí èásteèných tøíd. Napøíklad u entit obsahujících hodnotu èíselníku toho využívám pro navázání enumerátoru v kódu, pøedstavujícího daný databázový èíselník. Nikde jinde v kódu pak tedy nemusím øešit žádné èíselníkové objekty a identifikátory vztahující se k databázi.

Ve své implementaci datové vrstvy nevyužívám možnosti nastavit kaskádní mazání položek v databázi, všechna taková mazání je tedy nutné provádìt \uv{ruènì} v business vrstvì. Je to hlavnì z dùvodu zamezení vzniku všelijakých chyb z nepozornosti a neprostudování všech možných relací pøed zásahem do kódu. Je tedy nutné mít v metodách pro mazání pár øádkù kódu navíc, ale tím jsou všechny vykonávané akce patrné a pøípadnì lze nìjaké další akce pøi mazání vyvolat.

\begin{figure}[h]
\begin{center}
\includegraphics[width=1\textwidth]{figures/EntityDataModel}
\caption{Entity Data Model}
\label{fig:Entity Data Model}
\end{center}
\end{figure}

\clearpage
\section{Práva uživatelù}

Práva uživatelù se v tomto systému odvíjí od role, ve které se daný uživatel nachází. Není zde potøeba nastavovat každému uživateli specifická práva, protože role pøesnì definují jeho vztah k informacím v systému a operacím s nimi. To je rozdíl napøíklad od vnitrofiremních IS, kde je potøeba každému uživateli mìnit práva pro pøístup k datùm a jednotlivým modulùm.

Pøesto jsou ale práva implementována tak, aby v pøípadì budoucí potøeby (a zde také pro ukázkové akademické úèely) bylo velmi jednoduché pøiøadit každému uživateli práva nezávisle na jeho systémové roli. Abych dále mohl uvést podrobnìjší detaily, uvádím zde ukázku implementace oprávnìní uživatele:

\begin{lstlisting}[caption={Ukázka \icode{UserPermissions} a souvisejících tøíd -- ukazuje implementaci oprávnìní uživatelských rolí}, label={code:Ukázka UserPermissions}]
namespace ELearning.Business.Permissions
{
	public class U``serPermissions
	{
		// ...
		public virtual bool Group_List_All { get { return false; } }
		public virtual bool Group_CreateEdit { get { return false; } }
		public virtual bool Group_Delete { get { return false; } }
		// ...
		internal static UserPermissions Get(UserTypes userType)
		{
			switch (userType)
			{
				// ...
				case UserTypes.Administrator:
					return new AdministratorPermissions();
				// ...
			}
		}
	}
	public class S``tudentPermissions : UserPermissions { /* ... */ }
	public class L``ectorPermissions : StudentPermissions { /* ... */ }
	public class A``dministratorPermissions : LectorPermissions
	{
		// ...
		public override bool Group_List_All { get { return true; } }
		public override bool Group_CreateEdit { get { return true; } }
		public override bool Group_Delete { get { return true; } }
		// ...
	}
\end{lstlisting}

Jak je z kódu \ref{code:Ukázka UserPermissions} patrné, všechny dílèí práva (v ukázce práva na operace s uživatelskými skupinami) jsou umístìna do vlastní property. Vrácení správné hodnoty v závislosti na roli uživatele je øešené pomocí dìdiènosti. Pro úpravu práv, aby fungovala pro jednotlivé uživatele nezávisle na rolích, je potøeba jen pøidat vlastní tøídu pro vrácení hodnoty získané ne \uv{natvrdo}, ale z relevantního záznamu z databáze.


\section{Bezpeènost}

Na bezpeènost této webové aplikace se dívám ze dvou smìrù, a to z hlediska bezpeènosti pøenášených dat mezi klientem a serverem a z hlediska bezpeènosti pøi práci uživatele v aplikaci. Jsou zde možná i další hlediska, napøíklad komunikace webového serveru s databázovým serverem, ale tu zde myslím není tøeba rozebírat. Pro jednoduchost pøedpokládám, že aplikace i databáze bìží na totožném serveru.

\subsection{Bezpeènost pøenášených dat}

Jedná se o bezpeènost pøenosu veškerých dat, která se pøenášejí po síti (a už po LAN èi po internetu), když uživatel interaguje s aplikací. Nejdùležitìjší je asi moment, kdy se uživatel do aplikace pøihlašuje. Odesílá své uživatelské jméno a heslo, díky èemuž je systémem identifikován a autorizován k provádìní jednotlivých akcí.

Když pøihlašovací údaje zachytí útoèník (útokem známým jako MITM\footnote{Man In The Middle -- útoèník, který odposlouchává a pøípadnì mìní komunikaci}), získává tím identitu pravého uživatele a pøístup ke všem jeho datùm v systému. To dìlá tento útok nejnebezpeènìjším ze všech. Když se navíc útoèníkovi podaøí získat pøihlašovací údaje administrátora systému, dostane se rázem k veškerým datùm v systému. Navíc pro export do Google Formuláøù musí uživatel zadat údaje ke svému Google úètu, takže v pøípadì odposlechnutí dojde k narušení bezpeènosti i ve zcela jiném systému než je tento.

I když se ale útoèníkovi nepodaøí zachytit pøihlašovací údaje, stále má možnost se hodnì vìcí dozvìdìt. Pøi zachycení komunikace vidí všechny informace, které si uživatel v danou chvíli prohlíží èi zadává.

Naštìstí se dá útokùm lehce zabránit, a to zavedením komunikace pøes HTTPS namísto HTTP, což se øeší na úrovni webového serveru. Pøi komunikaci pøes HTTPS je využito protokolu SSL, který s využitím serverového certifikátu veškerou komunikaci šifruje.

\subsection{Bezpeènost pøi práci v aplikaci}

Zde se jedná o bezpeènost interakce uživatele s rozhraním aplikace, tzn. zobrazování informací, pøidávání a úprava dat, to vše podmínìné stupnìm oprávnìní uživatele a jeho pøiøazením do skupin.

V aplikaci je implementováno \uv{dvoustupòové} zabezpeèení. Prvním stupnìm je kontrola oprávnìní uživatele na úrovni prezentaèní vrstvy. Pøístup na jednotlivé stránky je regulován pomocí zavedeného atributu \icode{AuthorizeUserType}, který jsem pøipojil ke všem metodám controllerù. Pøedáním parametru \icode{UserType} je urèen nejnižší stupeò oprávnìní pro pøístup na danou url zastupovanou názvem metody. Pøi neoprávnìném pokusu o pøístup na url je atributem vyhozena výjimka typu \icode{PermissionException}. Bìžnì by se uživatel na takovouto url vùbec dostat nemìl, protože stejná politika je implementována ve views, èímž adresa takové url není uživateli dostupná.

\begin{lstlisting}[caption={Použití atributu \icode{AuthorizeUserType}}]
[AuthorizeUserType(UserType = UserTypes.Lector)]
public ActionResult Create()
{
	// ...
}
\end{lstlisting}

% TODO Pridat screenshot pri Permission Exception (po doladeni GUI)

Druhým stupnìm je kontrola oprávnìní v samotné business vrstvì. Všechny operace nad daty zde obsahují ovìøují práva na vykonání pomocí \icode{UserPermissions}, testují jestli požadovanou položku uživatel vytvoøil èi patøí do jeho skupiny atd. Pokud práva nemá, vznikne opìt výjimka \icode{PermissionException}.

\begin{lstlisting}[caption={Ovìøování v business vrstvì}]
public Form GetForm(int id)
{
	var result = GetSingle(f => f.ID == id);
	if (result == null)
	{
		if (Context.F``orm.Count(f => f.ID == id) > 0)
			throw new PermissionException("Form_Get");
		else
			throw new ArgumentException("Form not found");
 	}

	return result;
}
\end{lstlisting}

%*****************************************************************************
\chapter{Testování}


\section{Unit testy}

Ovìøení funkènosti hlavních tøíd a jejich metod je provedeno pomocí Unit testù.

\section{Selenium testy}
\section{Výkonové testy}
\subsection{Databáze}
%TODO Zminit se ze by bylo treba provest profiling pristupu do DB kvuli vyladeni volani a nastaveni EF
\section{Pilotní provoz}

%*****************************************************************************
\chapter{Nasazení}

Nasazení aplikace je patrné z obrázku \ref{fig:Diagram nasazení}. Uživatel potøebuje internetový prohlížeè se zapnutou podporou Javascriptu. Jeho pomocí se pøipojuje k serveru, na kterém je nasazena aplikace.

Pro správný bìh aplikace musí být na serveru nainstalován .NET Framework verze alespoò 4.0. Jako datové uložištì aplikace požaduje databázový server Microsoft SQL Server verze alespoò 2005. Databázový server mùže být nasazen i na vzdáleném serveru.

Popis postupu nasazení a instalace uvádím v instalaèní pøíruèce v pøíloze \ref{appendix:Instalaèní pøíruèka}.

\begin{figure}[h]
\begin{center}
\includegraphics[width=1\textwidth]{figures/DeploymentDiagram}
\caption{Diagram nasazení}
\label{fig:Diagram nasazení}
\end{center}
\end{figure}

%*****************************************************************************

\chapter{Závìr}

\section{Další vývoj}

S dalším vývojem systému poèítám metodou dog fooding\footnote{Programátoøi používají vyvíjený software v roli koncového uživatele}. Bìhem užívání pøi výuce se budou jistì stále rodit nové požadavky a možné zmìny stávající funkcionality.

\section{Možná rozšíøení}

\subsection{Otázky}
\label{sec:Možná rozšíøení sub:Otázky}
Možnost pøiøadit k textu otázky obrázek.

\subsection{E-mailové notifikace}

\section{Porovnání ASP.NET MVC a ASP.NET Web Forms}

%*****************************************************************************

\bibliographystyle{csplainnat}

%bibliographystyle{plain}
%\bibliographystyle{psc}

% TODO Jak udelat sekci Odkazy? Nebo bezne odkazy na url patri take sem?
\bibliography{reference}


%*****************************************************************************
%*****************************************************************************
\appendix

%*****************************************************************************

\chapter{Seznam použitých zkratek}

\begin{description}
\item[LAN] Local Area Network
\item[MITM] Man In The Middle
\item[HTTP] HyperText Transfer Protocol
\item[HTTPS] HyperText Transfer Protocol Secure
\item[IS] Informaèní Systém
\item[GPL] General Public License
\item[MVC] Model View Controller
\item[CRUD] Create Read Update Delete
\end{description}
\vdots

%*****************************************************************************

\chapter{UML}

\section{Slovní popis pøípadù užití}
\label{appendix:Pøípady užití}


\noindent
\sectionline
\textbf{Název:} Pøíhlásit se do systému\\
\textbf{Aktéøi:} Student, Lektor, Administrátor\\
\textbf{Hlavní scénáø:}
\begin{enumerate}
\item Uživatel otevøe stránky systému pomocí webového prohlížeèe
\item Uživatel zvolí Pøíhlásit se
\item Systém zobrazí formuláø pro zadání pøihlašovacích údajù
\item Uživatel zadá pøihlašovací údaje a potvrdí stiskem tlaèitka Pøihlásit se
\item Systém zobrazí domácí obrazovku uživatele
\end{enumerate}
\textbf{Alternativní scénáø 1:} Uživatel zadá špatné pøihlašovací údaje v bodì 4
\begin{enumerate}
\setcounter{enumi}{4}
\item Systém zobrazí chybové hlášení
\item Pokraèuje se bodem 4
\end{enumerate}
\textbf{Výsledek:} Uživatel je pøihlášen do systému

\noindent
\sectionline %-----------------------------------------------------------------
\textbf{Název:} Vytvoøit nový formuláø\\
\textbf{Aktéøi:} Lektor, Administrátor\\
\textbf{Vstupní podmínky:} 
\begin{itemize}
\item Uživatel je pøihlášen do systému
\end{itemize}
\textbf{Hlavní scénáø:}
\begin{enumerate}
\item Uživatel zvolí Vytvoøit nový formuláø
\item Systém zobrazí formuláø pro zadání parametrù vytváøeného formuláøe
\item Uživatel zadá požadované parametry a potvrdí tlaèítkem Vytvoøit
\item Systém vytvoøí nový formuláø na základì zadaných parametrù
\item Systém zobrazí obrazovku pro práci s otázkami vytvoøeného formuláøe
\end{enumerate}
\textbf{Alternativní scénáø 1:} Uživatel zadá špatné parametry v bodì 3
\begin{enumerate}
\setcounter{enumi}{3}
\item Systém zobrazí chybové hlášení o špatnì vložených parametrech
\item Pokraèuje se bodem 3
\end{enumerate}
\textbf{Alternativní scénáø 2:} Uživatel zruší vytváøení formuláøe zvolením jiné akce\\
\textbf{Výsledek:} Systém obsahuje nový formuláø

\noindent
\sectionline %-----------------------------------------------------------------
\textbf{Název:} Pøidat otázku\\
\textbf{Aktéøi:} Lektor, Administrátor\\
\textbf{Vstupní podmínky:} 
\begin{itemize}
\item Uživatel je pøihlášen do systému
\item V systému existuje formuláø ve stavu Neaktivní editovatelný nebo Aktivní nevyplnìný
\end{itemize}
\textbf{Hlavní scénáø:}
\begin{enumerate}
\item Uživatel zvolí formuláø, ke kterému chce otázku pøidat
\item Systém zobrazí obrazovku pro práci s otázkami zvoleného formuláøe
\item Uživatel zvolí požadovaný typ otázky a stiskne tlaèítko Pøidat
\item Systém pøidá do kolekce otázek formuláøe novou otázku zvoleného typu
\end{enumerate}
\textbf{Výsledek:} Formuláø obsahuje novou otázku

\noindent
\sectionline %-----------------------------------------------------------------
\textbf{Název:} Vyplnit formuláø\\
\textbf{Aktéøi:} Student\\
\textbf{Vstupní podmínky:} 
\begin{itemize}
\item Uživatel je pøihlášen do systému
\item V systému existuje formuláø ve stavu Aktivní nevyplnìný nebo Aktivní vyplnìný
\item Formuláø je pøiøazen do stejné skupiny jako uživatel
\item Formuláø byl uživatelem vyplnìn ménìkrát než je jeho maximální poèet vyplnìní
\end{itemize}

\clearpage

\textbf{Hlavní scénáø:}
\begin{enumerate}
\item Uživatel zvolí formuláø k vyplnìní
\item Systém zobrazí detailní informace o vybraném formuláøi
\item Uživatel spustí vyplòování stiskem tlaèítka Start
\item Systém vygeneruje instanci formuláøe na základì jeho parametrù
\item Systém skryje hlavní ovládací prvky a zobrazí vygenerovaný formuláø
\item Uživatel vyplní své odpovìdi na otázky formuláøy
\item Uživatel potvrdí odpovìdi stiskem Odeslat
\item Systém odpovìdi zaznamená, potvrdí pøijetí a opìt zobrazí hlavní ovládací prvky
\end{enumerate}
\textbf{Alternativní scénáø 1:} Vypršel èasový limit formuláøe bìhem vyplòování v bodì 6
\begin{enumerate}
\setcounter{enumi}{6}
\item Systém ukonèí vyplòování formuláøe
\item Pokraèuje se bodem 8 hlavního scénáøe
\end{enumerate}
\textbf{Výsledek:} Systém obsahuje novou instanci formuláøe s odpovìïmi na otázky

\noindent
\sectionline %-----------------------------------------------------------------
\textbf{Název:} Exportovat výsledky formuláøe do Google Dokumentù\\
\textbf{Aktéøi:} Lektor, Administrátor\\
\textbf{Vstupní podmínky:} 
\begin{itemize}
\item Uživatel je pøihlášen do systému
\item V systému existuje formuláø
\end{itemize}
\textbf{Hlavní scénáø:}
\begin{enumerate}
\item Uživatel zvolí zobrazení výsledkù formuláøe k exportu
\item Systém zobrazí pøehled vyplnìní formuláøe
\item Uživatel stiskne tlaèítko Export výsledkù do Google Dokumentù
\item Systém zobrazí formuláø pro zadání pøihlašovacích údajù Google úètu
\item Uživatel vyplní údaje a potvrdí export stiskem Exportovat
\item Systém exportuje výsledky do nového dokumentu v zadaném Google úètu
\end{enumerate}
\textbf{Výsledek:} Uživatelùv Google úèet obsahuje nový dokument s výsledky formuláøe

\noindent
\sectionline %-----------------------------------------------------------------

%*****************************************************************************
\chapter{Instalaèní pøíruèka}
\label{appendix:Instalaèní pøíruèka}

%*****************************************************************************
\chapter{Uživatelská pøíruèka}

%*****************************************************************************

\chapter{Unity Application Block tutoriál}

Pro dependecy injection využívám NuGet balíèku Unity Application Block. Zde bych chtìl pøiblížit, jak jej zaèlenit do projektu.

Nejdøíve je nutné do projektu nainstalovat Unity NuGet balíèek (v menu Visual Studia zvolit Tools > Library Package Manager > Manage NuGet Packages..., v dialogovém oknì vyhledat Unity a potvrdit instalaci).



Pro pøístup k Unity definuji podobnì jako v \cite{HowToUseUnityContainer} interface \icode{IUnityContainerAccessor} s následujícím pøedpisem:

\begin{lstlisting}[caption={Pøedpis rozhraní \icode{IUnityContainerAccessor}}]
public interface IUnityContainerAccessor
{
	IUnityContainer UnityContainer { get; }
}
\end{lstlisting}

%*****************************************************************************
\chapter{Obrazová pøíloha}

\begin{figure}[h]
\begin{center}
\includegraphics[width=1\textwidth]{figures/MoodleQuestionTypes}
\caption{Typy otázek v systému Moodle\cite{MoodleVycetTypuOtazek}}
\label{fig:Typy otázek v systému Moodle}
\end{center}
\end{figure}

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.5\textwidth]{figures/MVC}
\caption{Architektura MVC}
\label{fig:Architektura MVC}
\end{center}
\end{figure}

%*****************************************************************************
\chapter{Obsah pøiloženého CD}


%*****************************************************************************
\end{document}
